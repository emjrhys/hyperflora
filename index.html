<html>
  <head>
    <link rel="stylesheet" href="../css/main.css">
    <style>
      body {
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #fff;
      }

      input[type=text] {
        width: 100%;
        height: 32px;
        max-width: 600px;
        padding: 10px;
        margin-bottom: 10px;

        border-radius: 4px;
        border: 1px solid #ddd;

        font-size: 1em;

        outline: none;

        transition: border 0.2s;
      }

      input[type=text]:focus {
        border: 1px solid #444;
      }

      label {
        display: inline-block;
        height: 32px;
      }
    </style>
  </head>
  <body>
    <input id="video_title" type="text" placeholder="Title">
    <input id="video_url" type="text" placeholder="URL">
    <div>
      <label for="youtube"><input name="source" type="radio" id="youtube" value="youtube">YouTube</label>
      <label for="vimeo"><input name="source" type="radio" id="vimeo" value="vimeo">Vimeo</label>
    </div>
    <input id="video_channels" type="text" placeholder="Channels">
    <button type="button" onclick="submit()">Submit</button>

    <script src="../public/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>
    <script>
      var videoRef = new Firebase('http://hyperflora.firebaseio.com');

      $('#video_channels').selectize({
          delimiter: ',',
          persist: false,
          create: function(input) {
              return {
                  value: input,
                  text: input
              }
          }
      });

      function submit() {
        var title = $("#video_title").val(),
            url   = $("#video_url").val(),
            chans = $("#video_channels").val().split(", "),
            host  = $("input[name=source]:checked").val();

        videoRef.push({
          'title': title || null,
          'url'  : url   || null,
          'host' : host  || null,
          'chans': chans || null
        });
      }
    </script>
  </body>
</html>
