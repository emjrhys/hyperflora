extends layouts/main

block style
  link(rel='stylesheet', href='/css/admin.min.css')

block content
  header 
    h1(class='cutout')
      a(href='/') Hyperflora
      
    nav
      button(data-tab='videos', class='tabbutton active') All Videos
      button(data-tab='unapproved', class='tabbutton') Unapproved
    
    form(action='/submit', method='POST', class='submit')
      input(type='text', placeholder='YouTube URL', name='url')
      button(type='submit') Submit
    
  section(data-tab='videos', class='tabcontent active')        
    ul(class='videos')
      each vid in approved
        li
          a(href=vid.url, target='_blank', class='title')
            h3= vid.title
              
          div(class='controls')
            select(class='channel-select', data-objId=vid._id)
              option(value='none') no channel
              each channel in channels
                if (vid.channel == channel)
                  option(value=channel selected)= channel
                else
                  option(value=channel)= channel
                  
            div(class='buttons')
              form(action='/unapprove', method='POST')
                input(type='hidden', name='id', value=vid._id)
                button(class='unapprove')
              form(action='/delete', method='POST')
                input(type='hidden', name='id', value=vid._id)
                button(class='delete')
    
  section(data-tab='unapproved', class='tabcontent')
    ul(class='videos unapproved')
      each vid in unapproved
        li
          a(href=vid.url, target='_blank', class='title')
            h3= vid.title
            
          div(class='controls')
            form(action='/approve', method='POST')
              input(type='hidden', name='id', value=vid._id)
              button(class='approve')
            form(action='/delete', method='POST')
              input(type='hidden', name='id', value=vid._id)
              button(class='delete')
            
block script
  script(src='/js/admin.js')
